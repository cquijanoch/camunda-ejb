<div class="row">
	<div class="col-lg-12">
		<section class="panel">
			<header class="panel-heading">
				<h4 style="display: inline; line-height: 1.9">PERSONAL</h4>
			</header>
			<br>
            
            <div class="tabla-responsiva" ng-init="iniciarDatos()">
                <table ng-table="miTabla" class="table table-striped table-hover" show-filter="true" >
                    <colgroup>
                        <col width="8%" />
                        <col width="10%" />
                        <col width="10%" />
                        <col width="10%" />
                        <col width="10%" />
<!-- 						<col width="10%" /> -->
                    </colgroup>
                    <tr ng-repeat="o in $data">
                        
                        <td data-title="'DNI'"   
                            sortable="'dni'" filter="{ dni: 'text'}" filter-data="dni" style="text-align: center">{{o.dni}}
                        </td>
                        <td data-title="'Nombres'" filter="{ nombreCompleto: 'text'}" sortable="'nombreCompleto'" 
                            style="text-align: center">{{o.nombre}}
                        </td>
                        <td data-title="'Apellidos'" filter="{ nombreCompleto: 'text'}" sortable="'nombreCompleto'" 
                            style="text-align: center">{{o.apellidos}}
                        </td>
                        <td data-title="'Estado'" filter="{ estado: 'select'}" filter-data="estados" 
                            sortable="'estado'" style="text-align: center">
                            <span class="label label-mini" ng-class="{'label-info': o.estado == 'A','label-warning': o.estado == 'E'}">
                                {{o.estado=='A'?'Activo':'Cesado'}}
                            </span>
                        </td>
                        <td data-title="'Cargo'" filter="{ cargo: 'text'}" filter-data="cargos" 
                            sortable="'cargo'" style="text-align: center">   
                               {{o.cargo}}
                        </td>
                        
                    </tr>
                </table>
            </div>
			<div align="right" >
            	<button class="btn btn btn-success " ng-click="prepararAgregar()" ><i class="fa fa-plus" ></i> Agregar</button>
            <!--<button class="btn btn-danger " ng-click="eliminarUsuarios()"><i class="fa fa-times" ></i> Eliminar</button>-->
        </div>
		</section>
	</div>
</div>

<div class="modal fade" id="modalNuevo" tabindex="-1" role="dialog"
	aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">&times;</button>
				<h4 class="modal-title" id="myModalLabel">INSCRIPCION DE	PERSONAL</h4>
			</div>
			<div class="modal-body resize-modal">
				<div class="form-panel">
					<div class="form-horizontal style-form">
						<div class="form-group ">
							<label class="col-lg-2 control-label"><strong>Datos	Personales</strong></label>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">Cod. Persona</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="persona.codigo" ng-disabled="persona.existe">
							</div>
							<label class="col-sm-2 control-label">DNI</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="persona.dni" ng-disabled="persona.existe">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">Nombres</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="persona.nombre" ng-disabled="persona.existe">
							</div>
							<label class="col-sm-2 control-label">Apellidos</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="persona.apellidos" ng-disabled="persona.existe">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">Direccion</label>
							<div class="col-sm-10">
								<input type="text" class="form-control"
									ng-model="persona.direccion" ng-disabled="persona.existe">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">Fecha de Nacimiento</label>
							<div class="col-sm-4">
								<input type="date" class="form-control"
									ng-model="persona.fecha_nacimiento" ng-disabled="persona.existe">
							</div>
							<label class="col-sm-2 control-label">Carga Personal</label>
							<div class="col-sm-4">
								<select class="form-control"  ng-model="trabajador.carga_familiar">
									<option value=true selected>Si</option>
									<option value=false>No</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">CUSPP</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.cuspp" ng-disabled="trabajador.existe">
							</div>
							<label class="col-sm-2 control-label">Tipo Fondo</label>
							<div class="col-sm-4">
								<select class="form-control"  ng-model="trabajador.tipo_pension" ng-disabled="trabajador.existe">
									<option value="A">AFP</option>
									<option value="O">ONP</option>
								</select>
							</div>
						</div>

						<br>
						<div class="form-group ">
							<label class="col-lg-2 control-label"><strong>Datos	Trabajador</strong></label>
						</div>

						<div class="form-group">
							<label class="col-sm-2 control-label">Cargo</label>
							<div class="col-sm-4">

								<input type="text" class="form-control"
									ng-model="trabajador.cargo" ng-disabled="trabajador.existe">
							</div>
							<label class="col-sm-2 control-label">Estado</label>
							<div class="col-sm-4">
								<select class="form-control" ng-model="trabajador.estado">
									<option value="A">Activo</option>
									<option value="E">Cesado</option>
								</select>
							</div>

						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">Sueldo Bruto S/.</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.sueldo_bruto"
									ng-disabled="trabajador.existe">
							</div>
							<label class="col-sm-2 control-label">Fecha Ingreso</label>
							<div class="col-sm-4">
								<input type="date" class="form-control"	ng-model="trabajador.fecha_ingreso_planila"
									ng-disabled="trabajador.existe">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">Numero de
								Cuenta Haberes</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.numero_cuenta_haberes"
									ng-disabled="trabajador.existe">
							</div>
							<label class="col-sm-2 control-label">Tipo Banco</label>
							<div class="col-sm-4">
								<select class="form-control" ng-model="trabajador.nombre_banco"
									ng-options="tip.id as tip.nombre for tip in bancos"
									ng-disabled="trabajador.existe">
									<!--                                <option value="">Seleccione:</option>-->
								</select>
							</div>
						</div>

						<!--                    <h4>Informacion de Trabajador</h4>
                    <div class="form-group" >
                        <label class="col-sm-2 control-label">Usuario *</label>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="nuevoUsuario.nombre" disabled>
                        </div>
                        <label class="col-sm-2 control-label">Password</label>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="nuevoUsuario.password" placeholder="opcional">
                        </div>
                    </div>
                    <div class="form-group" >
                        <label class="col-sm-2 control-label">Estado</label>
                        <div class="col-sm-10">
                            <div class="radio" style="display: inline-block">
                              <label><input type="radio" ng-model="nuevoUsuario.estado" ng-value="'A'" checked>activo</label>
                            </div>
                            <div class="radio" style="display: inline-block">
                              <label><input type="radio" ng-model="nuevoUsuario.estado" ng-value="'I'">inactivo</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group" ng-show="!nuevoUsuario.existe">
                        <label class="col-sm-2 control-label">Organizacion*</label>
                        <div class="col-sm-10">
                            <select class="form-control" ng-model="oSel" ng-options="o as o.nombre for o in organizaciones">
                            </select>
                        </div>
                    </div>
                    <div class="form-group" ng-show="!nuevoUsuario.existe">
                        <label class="col-sm-2 control-label">Rol *</label>
                        <div class="col-sm-10">
                            <select class="form-control" ng-model="nuevoUsuario.rolID" ng-options="r.rolID as r.nombre for r in oSel.roles">                                
                            </select>
                        </div>
                    </div>-->

					</div>
				</div>


			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
				<button type="button" class="btn btn-primary"
					ng-click="agregarUsuario()"
					ng-disabled="trabajador.dni=='' || nuevoTrabajador.existe">
					<i class="fa fa-check"></i> Guardar
				</button>
			</div>
		</div>
	</div>
</div>


<div class="modal fade" id="modalRegistroHoras" tabindex="-1"
	role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">&times;</button>
				<h4 class="modal-title" id="myModalLabel">REGISTRO DE HORAS
					TRABAJADAS</h4>
			</div>
			<div class="modal-body resize-modal">

				<div class="form-panel">
					<div class="form-horizontal style-form">
						<div class="form-group">
							<label class="col-sm-2 control-label">Cod. Trabajador</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.codigo" ng-disabled="habilitado">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">Nombres</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajdor.nombres" ng-disabled="habilitado">
							</div>
							<label class="col-sm-2 control-label">Apellidos</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.apellidos" ng-disabled="habilitado">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">Fecha de Ingreso</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.numero1" ng-disabled="habilitado">
							</div>
							<label class="col-sm-2 control-label">Estado</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.numero1" ng-disabled="habilitado">
							</div>
						</div>

						<br>
						<div class="form-group ">
							<label class="col-lg-4 control-label"><strong>Registro
									de horas laboradas por trabajador</strong></label>
						</div>

						<div class="form-group">
							<label class="col-sm-2 control-label">Total Horas : </label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.numero1">
							</div>
							<label class="col-sm-2 control-label">Horas Extras : </label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.numero1">
							</div>

							<div class="form-group ">
								<label class="col-lg-2 control-label"><strong>Descuentos</strong></label>
							</div>

							<label class="col-sm-2 control-label">Canasta</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.numero1">
							</div>

							<label class="col-sm-2 control-label">Retencion Judicial
							</label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.numero1">
							</div>

							<label class="col-sm-2 control-label">Adelante </label>
							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="trabajador.numero1">
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
				<button type="button" class="btn btn-primary"
					ng-click="agregarUsuario()"
					ng-disabled="trabajador.dni=='' || nuevoTrabajador.existe">
					<i class="fa fa-check"></i> Guardar
				</button>
			</div>
		</div>
	</div>
</div>